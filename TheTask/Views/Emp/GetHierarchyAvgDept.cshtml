@model IEnumerable<IGrouping<decimal?, TheTask.Models.EmpPL>>

<div>
    <table border="1" width="100%" cellpadding="5">
        <tr>
            <th>DEPTNO</th>
            <th>EMPNO</th>
            <th>ENAME</th>
            <th>COMM</th>
            <th>HIREDATE</th>
            <th>JOB</th>
            <th>MGR</th>
            <th>SAL</th>
        </tr>
        @foreach (var dept in Model)
        {
            decimal? avgSal = 0;
            foreach (var emps in dept)
            {
    <tr id="@emps.">
        <td>@emps.DeptNo</td>
        <td>@emps.EmpNo</td>
        <td>@emps.EmpName</td>
        <td>@emps.Comm</td>
        <td>@emps.HireDate</td>
        <td>@emps.Job</td>
        <td>@emps.Mgr</td>
        <td>@emps.Sal</td>
    </tr>
            avgSal += emps.Sal;
                    }
    <tr>
        <th>AVG</th>
        <td>@string.Format("{0:0.00}", (avgSal / dept.Count()))</td>
    </tr>}
    </table>
</div>

@section Scripts {
    @Scripts.Render("~/Scripts/jquery.unobtrusive-ajax.js")
}
